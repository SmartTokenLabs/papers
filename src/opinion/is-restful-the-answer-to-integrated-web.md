In the early days of my work on Smart Layer, a decentralized protocol for the next web, I was often asked: "Don't web servers already provide integration? Isn't that the purpose of RESTful API?"

The short answer is no. RESTful or even GraphQL are only part of the solution for an integrated web. The long answer, however, takes us back to my university days,

Around 2003, our lab was contracted to develop a web system for the Chinese army. The project was mostly handled by research students who were well-versed in data management. They designed the front-end JScript to directly generate SQL statements, which the web site's unlicensed IIS would run ASP code to check for sanity before sending it off to an unlicensed Microsoft SQL server (pirated Microsoft stack was, and perhaps still is, popular among the Chinese army).

In one of the meetings, I suggested a web service layer, for the data enquiry sent from the website to be devoid of SQL tables, focusing instead on the data needed to render the UI. The web service layer would then generate the underlying SQL statement. This suggestion was met with resistance. After all, SQL was invented as a data query language, and what the website front end was doing was precisely that - data querying.

I argued that a database is architected to do different things than a web service, a concept known as the Separation of Concerns. It's generally good practice to separate an application into different layers, each with its own responsibilities. This approach has numerous benefits. Front-end code won't be affected by database refactoring and is only concerned with user interactions. The server backend can optimise data handling, add business logic before sending data to the SQL database, and safeguard against security threats such as DDoS or SQL injection.

My suggestions fell on deaf ears. The project went ahead without any changes. The rationale was that the system was supposed to run in an enclosed environment, so there shouldn't be a source for DDoS or SQL attacks  - a jaw-dropping assumption, but try arguing with a Chinese military leader. And new requirements were usually handled by creating new software from scratch anyway, thanks to a reward system put in place by the Communist Party leadership, which favored new software systems over improving existing ones. Competitions were organized to reward the arm branch with the highest number of new systems. The leadership's brilliance is undeniable.

This is not a lesson about how a system would perform in a real war. This experience serves as a reminder that a format - data query with SQL or RESTful API - is not a direct answer to a system problem. Let's shift our focus to the problem Smart Layer aims to solve: the Integrated Web, and observe a similar mismatch between needs and solutions.

Integration is a challenging problem. Just ask any architect of major websites or companies with numerous business connections. It's logical to separate integration into a distinct layer, as they are difficult to move, prone to breaking, require specific incentives to progress, often don't work, and frequently come under scrutiny. Most of these problems that make integration difficult are not due to the lack of a technical interface standard, such as RESTful API - and to be honest it was already used in companies with serious unmet integration needs. This situation parallels how SQL is not the answer to data inquiry for the web front-end. Other concerns, not the ease of use or syntax, influenced the decision to build a middle layer. Today many people still consider SQL not the query language of the web due to its syntax outlandish to web developers. It's not. Even if the web system prefers to use SQL as a syntax format over JSON, a SQL database still can't replace a web service layer. Similarly, the motivation to build a smart layer to solve integration is not driven by the lack of an API interface.

There is no satisfying Internet integration framework barring "integrate everything to Google/Apple and hope they offer the kinds of integration we need one day".

This is where Smart Layer comes in. It's a separate layer that handles the hard parts of integration, making it easier for websites and apps to work together. It's not about replacing RESTful or GraphQL, but about providing a more robust and flexible infrastructure for the next generation web. And who knows, maybe one day it will even find its way into the Chinese army's web systems. Now, wouldn't that be something?